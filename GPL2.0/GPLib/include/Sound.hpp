#pragma once
#include <string>
#include <iostream>


#include <SFML/Audio/Sound.hpp>
#include <SFML/Audio/SoundBuffer.hpp>
#include "ObjectGPL.hpp"
#include "Panel.hpp"
#include "Audio.hpp"

class Sound : public ObjectGPL, public Audio
{
private:
	Panel* panel;
	sf::SoundBuffer buffer;
	sf::Sound _sound;
public:

	////////////////////////////////////////////////////////////////////////////////////////////////////
	/// <summary>	/// Cria o som <see cref="Sound"/></summary>
	////////////////////////////////////////////////////////////////////////////////////////////////////
	Sound(void);

	////////////////////////////////////////////////////////////////////////////////////////////////////
	/// <summary>	Deleta o som <see cref="Sound"/>. </summary>
	////////////////////////////////////////////////////////////////////////////////////////////////////
	~Sound(void);

	////////////////////////////////////////////////////////////////////////////////////////////////////
	/// <summary>
	/// Carrega um arquivo de som
	/// </summary>
	/// <param name="filename">	Caminho do arquivo de som a ser carregado (ogg, wav, flac, aiff, au, raw, paf, svx, nist, voc, ircam, w64,
	/// mat4, mat5 pvf, htk, sds, avr, sd2, caf, wve, mpc2k, rf64) </param>
	////////////////////////////////////////////////////////////////////////////////////////////////////
	void load(std::string filename) override;

	////////////////////////////////////////////////////////////////////////////////////////////////////
	/// <summary>	Começa a tocar o som</summary>
	/// <param name="volume">	(Opcional) Define o volume do som, padrão é 10. </param>
	/// <param name="repeat">	(Opcional) Define se o som repetir, padrão é não. </param>
	////////////////////////////////////////////////////////////////////////////////////////////////////
	void play(int volume = 10, bool repeat = false) override;

	////////////////////////////////////////////////////////////////////////////////////////////////////
	/// <summary>	Pausa o som</summary>
	////////////////////////////////////////////////////////////////////////////////////////////////////
	void pause() override;

	////////////////////////////////////////////////////////////////////////////////////////////////////
	/// <summary>	Pausa o som</summary>
	////////////////////////////////////////////////////////////////////////////////////////////////////
	void stop() override;
};

